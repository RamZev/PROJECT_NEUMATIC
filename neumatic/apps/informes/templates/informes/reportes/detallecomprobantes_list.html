<!-- neumatic\apps\informes\templates\informes\reportes\detallecomprobantes_list.html -->

{% extends 'informes/reportes/base_reportes.html' %}
{% load static %}
{% load custom_tags %}

<!-- Bloque Header ------------------------------------------------------------------------- -->

<!-- Contenido Inferior Izquierdo -->
{% block header_bottom_left %}
	{% for param, valor in parametros_i.items %}
		<p class="compact-line-spacing"><strong>{{ param }}:</strong> {{ valor }}</p>
	{% endfor %}
{% endblock %}

<!-- Contenido Inferior Derecho -->
{% block header_bottom_right %}
	{% for param, valor in parametros_d.items %}
		<p class="compact-line-spacing"><strong>{{ param }}:</strong> {{ valor }}</p>
	{% endfor %}
{% endblock %}

<!-- Bloque Content ------------------------------------------------------------------------ -->

{% block content %}
	<br>
	<table style="max-width: 80%; margin: auto;">
		
		<thead>
			<tr>
				<th></th>
				<th>Fecha</th>
				<th>Comprobante</th>
				<th class="numeric" style="padding-right: 15px">CÃ³d.</th>
				<th>Cliente</th>
				<th class="numeric" style="padding-right: 15px">Contado</th>
				<th class="numeric" style="padding-right: 15px">Cta. Cte.</th>
				<th>Op.</th>
			</tr>
		</thead>
		
		<tbody>
			
			{% for compro, datos in objetos.items %}
				<!-- Nombre de Comprobante -->
				<tr>
					<td colspan="8" style="padding-top: 5px;">
						<strong>{{ compro }}</strong>
					</td>
				</tr>
				
				{% for comprobante in datos.comprobantes %}
					<tr>
						<td></td>
						<td>{{ comprobante.fecha_comprobante|date:"d/m/Y" }}</td>
						<td style="white-space: pre;">{{ comprobante.comprobante_completo }}</td>
						<td class="numeric" style="padding-right: 15px">{{ comprobante.id_cliente }}</td>
						<td>{{ comprobante.id_cliente__nombre_cliente }}</td>
						<td class="numeric" style="padding-right: 15px">{{ comprobante.contado|formato_es_ar }}</td>
						<td class="numeric" style="padding-right: 15px">{{ comprobante.cta_cte|formato_es_ar }}</td>
						<td>{{ comprobante.id_user__iniciales }}</td>
					</tr>
				{% endfor %}
				<!-- Total por tipo de Comprobante -->
				<tr>
					<td colspan="5" style="text-align: right;"><strong>Totales Comprobante {{ compro }}:</strong></td>
					<td class="numeric" style="padding-right: 15px"><strong>{{ datos.subtotal_contado|formato_es_ar }}</strong></td>
					<td class="numeric" style="padding-right: 15px"><strong>{{ datos.subtotal_cta_cte|formato_es_ar }}</strong></td>
					<td></td>
				</tr>
				<tr>
					<td colspan="8"><hr></td>
				</tr>
				
			{% endfor %}
			<!-- Total General -->
			<tr>
				<td colspan="5" style="text-align: right;"><strong>Totales Generales:</strong></td>
				<td class="numeric" style="padding-right: 15px"><strong>{{ total_contado|formato_es_ar }}</strong></td>
				<td class="numeric" style="padding-right: 15px"><strong>{{ total_cta_cte|formato_es_ar }}</strong></td>
			</tr>
			
		</tbody>
	</table>
	
{% endblock content %}