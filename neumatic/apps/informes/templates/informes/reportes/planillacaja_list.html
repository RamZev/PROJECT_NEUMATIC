<!-- neumatic\apps\informes\templates\informes\reportes\planillacaja_list.html -->

{% extends 'informes/reportes/base_reportes.html' %}
{% load static %}
{% load custom_tags %}

<!-- Bloque Extra CSS ---------------------------------------------------------------------- -->
{% block extra_css %}
	<style>
		/* Estilos específicos para este reporte */
		
		table th.numeric.pad-r15, 
		table td.numeric.pad-r15 {
			padding-right: 15px;
		}
		table th.with-15 {
			width: 15%;
		}
		table th.with-70 {
			width: 70%;
		}
	</style>
{% endblock extra_css %}

<!-- Bloque Header ------------------------------------------------------------------------- -->

<!-- Contenido Inferior Izquierdo -->
{% block header_bottom_left %}
	{% for param, valor in parametros_i.items %}
		<p class="compact-line-spacing"><strong>{{ param }}:</strong> {{ valor }}</p>
	{% endfor %}
{% endblock %}

<!-- Contenido Inferior Derecho -->
{% block header_bottom_right %}
	{% for param, valor in parametros_d.items %}
		<p class="compact-line-spacing"><strong>{{ param }}:</strong> {{ valor }}</p>
	{% endfor %}
{% endblock %}

<!-- Bloque Content ------------------------------------------------------------------------ -->

{% block content %}
	<br>
	
	<!-- 1ra. Sección: Datos del Encabezado de Caja -->
	<table style="max-width: 60%; margin: auto; margin-top: 15px; border: 1px solid black;">
		<thead>
			<tr>
				<th colspan="4" style="text-align: center; padding: 5px; border-bottom: 1px solid black;"><strong>CAJA {% if caja.caja_cerrada %} CERRADA {% else %} ABIERTA {% endif %}</th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td class="numeric pad-r15" style="width: 25%;">Saldo Anterior:</td>
				<td class="numeric pad-r15" style="width: 25%;"><strong>{{ caja.saldo_anterior|vacio_si_cero|formato_es_ar }}</strong></td>
				<td class="numeric pad-r15" style="width: 25%;"></td>
				<td class="numeric pad-r15" style="width: 25%;"></td>
			</tr>
			<tr>
				<td class="numeric pad-r15">Ingresos en Efectivo:</td>
				<td class="numeric pad-r15"><strong>{{ caja.ingresos|vacio_si_cero|formato_es_ar }}</strong></td>
				<td class="numeric pad-r15">Recuento Dinero:</td>
				<td class="numeric pad-r15"><strong>{{ caja.recuento|vacio_si_cero|formato_es_ar }}</strong></td>
			</tr>
			<tr>
				<td class="numeric pad-r15">Egresos en Efectivo:</td>
				<td class="numeric pad-r15"><strong>{{ caja.egresos|vacio_si_cero|formato_es_ar }}</strong></td>
				<td class="numeric pad-r15">Diferencia de Caja:</td>
				<td class="numeric pad-r15"><strong>{{ caja.diferencia|vacio_si_cero|formato_es_ar }}</strong></td>
			</tr>
			<tr>
				<td class="numeric pad-r15">Saldo Actual:</td>
				<td class="numeric pad-r15"><strong>{{ caja.saldo|vacio_si_cero|formato_es_ar }}</strong></td>
				<td class="numeric pad-r15"></td>
				<td class="numeric pad-r15"></td>
			</tr>
		</tbody>
	</table>
	
	<!-- 2da. Sección: Datos del Resumen de Caja -->
	<table style="max-width: 60%; margin: auto; margin-top: 15px; border: 1px solid black;">
		<thead>
			<tr>
				<th colspan="4" style="text-align: center; padding: 5px; border-bottom: 1px solid black;"><strong>RESUMEN DE MEDIOS DE PAGO</strong></th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td class="numeric pad-r15" style="width: 25%;">Tarjeta Crédito:</td>
				<td class="numeric pad-r15" style="width: 25%;"><strong>{{ resumen_montos.tarjeta_credito|formato_es_ar }}</strong></td>
				<td class="numeric pad-r15" style="width: 25%;">Retenciones:</td>
				<td class="numeric pad-r15" style="width: 25%;"><strong>{{ resumen_montos.retenciones|formato_es_ar }}</strong></td>
			</tr>
			<tr>
				<td class="numeric pad-r15">Tarjeta Débito:</td>
				<td class="numeric pad-r15"><strong>{{ resumen_montos.tarjeta_debito|formato_es_ar }}</strong></td>
				<td class="numeric pad-r15">Compensa Facturas:</td>
				<td class="numeric pad-r15"><strong>{{ resumen_montos.compensa_facturas|formato_es_ar }}</strong></td>
			</tr>
			<tr>
				<td class="numeric pad-r15">Depósitos:</td>
				<td class="numeric pad-r15"><strong>{{ resumen_montos.depositos|formato_es_ar }}</strong></td>
				<td class="numeric pad-r15">Mercado Pago:</td>
				<td class="numeric pad-r15"><strong>{{ resumen_montos.mercado_pago|formato_es_ar }}</strong></td>
			</tr>
			<tr>
				<td class="numeric pad-r15">Cheques:</td>
				<td class="numeric pad-r15"><strong>{{ resumen_montos.cheques|formato_es_ar }}</strong></td>
				<td class="numeric pad-r15">Dólares:</td>
				<td class="numeric pad-r15"><strong>{{ resumen_montos.dolares|formato_es_ar }}</strong></td>
			</tr>
			{% if caja.observacion_caja %}
			<tr>
				<td colspan="4" style="padding-top: 5px;">
					<strong>Observaciones:</strong> {{ caja.observacion_caja }}
				</td>
			</tr>
			{% endif %}
		</tbody>
	</table>
	<br>
	
	<!-- 3ra. Sección: Datos del Detalle de Caja -->
	<table style="max-width: 60%; margin: auto;">
		
		<thead>
			<tr>
				<th></th>
				<th class="with-70">Descripción</th>
				<th class="numeric pad-r15 with-15">Ingresos</th>
				<th class="numeric pad-r15 with-15">Egresos</th>
			</tr>
		</thead>
		
		<tbody>
			
			{% for grupo, datos in objetos.items %}
				<!-- Nombre de Comprobante -->
				<tr>
					<td colspan="4" style="padding-top: 5px;">
						<strong>{{ grupo }}</strong>
					</td>
				</tr>
				
				{% for comprobante in datos.comprobantes %}
					<tr>
						<td></td>
						<td>{{ comprobante.descripcion }}</td>
						<td class="numeric pad-r15">{{ comprobante.ingresos|vacio_si_cero|formato_es_ar }}</td>
						<td class="numeric pad-r15">{{ comprobante.egresos|vacio_si_cero|formato_es_ar }}</td>
					</tr>
				{% endfor %}
				<!-- Total por tipo de Comprobante -->
				<tr>
					<td colspan="2" style="text-align: right;"><strong>Totales:</strong></td>
					<td class="numeric pad-r15"><strong>{{ datos.subtotal_ingresos|vacio_si_cero|formato_es_ar }}</strong></td>
					<td class="numeric pad-r15"><strong>{{ datos.subtotal_egresos|vacio_si_cero|formato_es_ar }}</strong></td>
				</tr>
				<tr>
					<td colspan="4"><hr></td>
				</tr>
				
			{% endfor %}
			
		</tbody>
	</table>
	
{% endblock content %}