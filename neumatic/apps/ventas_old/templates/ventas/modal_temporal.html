<!-- Modal de Autorización Temporal -->
<div class="modal fade" id="autorizacionModalTemporal" tabindex="-1" aria-labelledby="autorizacionModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
      <div class="modal-content">
          <div class="modal-header text-white bg-danger py-2">
              <h5 class="modal-title fs-6" id="autorizacionModalLabel">
                  <i class="bi bi-exclamation-triangle-fill me-2"></i>
                  <span id="modalTitulo">Autorización Requerida</span>
              </h5>
              <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
              <form id="autorizacionForm">
                  {% csrf_token %}
                  <!-- AGREGAR ESTOS CAMPOS OCULTOS -->
                  <input type="hidden" id="validaClienteId" name="cliente_id">
                  <input type="hidden" id="validaSucursalId" name="sucursal_id">
                  <input type="hidden" id="validaFecha" name="fecha_comprobante">

                  <div id="mensajePrincipal" class="mb-3 p-2 bg-light rounded">
                      <!-- Mensaje dinámico se insertará aquí -->
                  </div>
                  
                  <div class="alert alert-warning mb-3">
                      <h6 class="alert-heading">
                          <i class="bi bi-file-earmark-text-fill me-2"></i>Documento con vencimiento pendiente
                      </h6>
                      <div class="row small mt-2">
                          <div class="col-md-6">
                              <ul class="list-unstyled">
                                  <li class="mb-2 pb-2 border-bottom">
                                      <strong><i class="bi bi-receipt me-2"></i>Comprobante:</strong> 
                                      <span id="modalComprobante">-</span>
                                  </li>
                                  <li class="mb-2 pb-2 border-bottom">
                                      <strong><i class="bi bi-hash me-2"></i>Número:</strong> 
                                      <span id="modalNumero">-</span>
                                  </li>
                                  <li class="mb-2 pb-2 border-bottom">
                                      <strong><i class="bi bi-calendar-event me-2"></i>Fecha Emisión:</strong> 
                                      <span id="modalFecha">-</span>
                                  </li>
                              </ul>
                          </div>
                          <div class="col-md-6">
                              <ul class="list-unstyled">
                                  <li class="mb-2 pb-2 border-bottom">
                                      <strong><i class="bi bi-clock-history me-2"></i>Días Crédito:</strong> 
                                      <span id="modalDiasCredito">-</span>
                                  </li>
                                  <li class="mb-2 pb-2 border-bottom">
                                      <strong><i class="bi bi-calendar-x me-2"></i>Fecha Vencimiento:</strong> 
                                      <span id="modalVencimiento">-</span>
                                  </li>
                                  <li class="mb-2 pb-2 border-bottom">
                                      <strong><i class="bi bi-exclamation-octagon me-2"></i>Días Vencidos:</strong> 
                                      <span id="modalDiasVencidos" class="fw-bold text-danger">-</span>
                                  </li>
                              </ul>
                          </div>
                      </div>
                      <div class="row mt-2 small">
                          <div class="col-md-6">
                              <p class="mb-1">
                                  <strong><i class="bi bi-cash-stack me-2"></i>Monto Pendiente:</strong> 
                                  <span id="modalMonto" class="fw-bold">$-</span>
                              </p>
                          </div>
                          <div class="col-md-6">
                              <p class="mb-1">
                                  <strong><i class="bi bi-person-badge me-2"></i>Vendedor:</strong> 
                                  <span id="modalVendedor">-</span>
                              </p>
                          </div>
                      </div>
                  </div>
                  
                  <div class="mb-3">
                      <label for="codigoAutorizacion" class="form-label">
                          <i class="bi bi-shield-lock me-2"></i>Código de Autorización:
                      </label>
                      <input type="password" class="form-control border border-danger" 
                          id="codigoAutorizacion" name="codigo" autocomplete="new-password" required placeholder="Ingrese el código de autorización">
                      <div id="mensajeErrorAutorizacion" class="invalid-feedback mt-2"></div>
                  </div>
              </form>
          </div>
          <div class="modal-footer py-2">
              <button type="submit" class="btn btn-danger btn-sm" id="btnConfirmarAutorizacionTemporal">
                  <i class="bi bi-check-circle-fill me-2"></i>Confirmar
              </button>
              <button type="button" class="btn btn-secondary btn-sm" data-bs-dismiss="modal">
                  <i class="bi bi-x-circle-fill me-2"></i>Cancelar
              </button>
          </div>
      </div>
  </div>
</div>